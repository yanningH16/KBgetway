webpackJsonp([10],{"+rhx":function(e,n){},KuMz:function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o={};t.d(o,"setUserInfo",function(){return b}),t.d(o,"setUserToken",function(){return x}),t.d(o,"clearUserInfo",function(){return U}),t.d(o,"setErrorTimeList",function(){return w}),t.d(o,"setSellerInfo",function(){return y});var r={};t.d(r,"userInfo",function(){return A}),t.d(r,"userToken",function(){return F}),t.d(r,"sellerInfo",function(){return P});var s=t("lRwf"),i=t.n(s),a={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var u=t("VU/8")({name:"app"},a,!1,function(e){t("KuMz")},null,null).exports,c=t("Gu7T"),l=t.n(c),f=t("pRNm"),m=t.n(f),p=[{path:"/login",component:function(e){Promise.all([t.e(0),t.e(5)]).then(t.bind(null,"EV1k")).then(function(n){e(n)})},name:"login",meta:{title:"登录"}},{path:"/sign",component:function(e){t.e(3).then(t.bind(null,"0/co")).then(function(n){e(n)})},name:"sign",meta:{title:"找回密码"}},{path:"/reg",component:function(e){Promise.all([t.e(0),t.e(2)]).then(t.bind(null,"qemN")).then(function(n){e(n)})},name:"reg",meta:{title:"登陆"}}],h=[{path:"manger/stationManger",component:function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,"LmW0"))},name:"stationManger",meta:{title:"分站管理"}}],d=[{path:"rechargeList/localRechargeList",component:function(){return Promise.all([t.e(0),t.e(7)]).then(t.bind(null,"xwcd"))},name:"localRechargeList",meta:{title:"本站充值记录"}},{path:"rechargeList/stationRechargeList",component:function(){return Promise.all([t.e(0),t.e(8)]).then(t.bind(null,"D13i"))},name:"stationRechargeList",meta:{title:"分站充值记录"}}],_=[{path:"money/leftMoney",component:function(){return Promise.all([t.e(0),t.e(1)]).then(t.bind(null,"b4sd"))},name:"leftMoney",meta:{title:"账户余额"}}],E=[{path:"/",component:function(e){Promise.all([t.e(0),t.e(4)]).then(t.bind(null,"LqM4")).then(function(n){e(n)})},name:"home",children:[].concat([{path:"/home",redirect:{name:"leftMoney"}}],l()(h),l()(d),l()(_))}];i.a.use(m.a);var I=new m.a({routes:[].concat([{path:"/",redirect:"login"}],l()(p),l()(E)),mode:"history"});I.beforeEach(function(e,n,t){e.meta.title||e.params.message?document.title=e.meta.title||e.params.message.title:document.title="KB项目",t()});var T=I,g=t("SJI6"),R=t.n(g),L=t("MfZv"),S=t.n(L),v="__userInfo__",N="__userToken__",k="__errorTime__",M="__sellerInfo__";var O,b=function(e,n){var t;(0,e.commit)("SET_USER_INFO",(t=n,S.a.session.set(v,t),t))},x=function(e,n){var t;(0,e.commit)("SET_USER_TOKEN",(t=n,S.a.session.set(N,t),t))},U=function(e,n){(0,e.commit)("CLEAR_USER_INFO",n)},w=function(e,n){(0,e.commit)("ERROR_TIME_LIST",n)},y=function(e,n){var t;(0,e.commit)("SET_SELLER_INFO",(t=n,S.a.session.set(M,t),t))},A=function(e){return e.userInfo},F=function(e){return e.userToken},P=function(e){return e.sellerInfo},K={userInfo:S.a.session.get(v,[]),userToken:S.a.session.get(N,[]),errorTimeList:[],sellerInfo:S.a.session.get(M,[])},j=t("bOdI"),C=t.n(j),V=(O={},C()(O,"SET_USER_INFO",function(e,n){e.userInfo=n}),C()(O,"SET_USER_TOKEN",function(e,n){e.userToken=n}),C()(O,"CLEAR_USER_INFO",function(e){e.userInfo=(S.a.session.remove(v),[])}),C()(O,"CLEAR_USER_TOKEN",function(e){e.userToken=(S.a.session.remove(N),[])}),C()(O,"ERROR_TIME_LIST",function(e,n){e.errorTimeList=n}),C()(O,"SET_SELLER_INFO",function(e,n){e.sellerInfo=n}),O);i.a.use(R.a);var q=new R.a.Store({actions:o,getters:r,state:K,mutations:V}),B=t("//Fk"),J=t.n(B),z=t("OMN4"),D=t.n(z),H=t("l6IN"),$=t.n(H);D.a.defaults.timeout=5e3,S.a.session.remove(k),D.a.interceptors.request.use(function(e){return q.state.userInfo&&(e.headers.accesstoken=q.state.userToken,e.headers.userAccountId=q.state.userInfo.channelAccountId),e},function(e){return J.a.reject(e)}),D.a.interceptors.response.use(function(e){return e.config.headers.accesstoken!==e.headers.accesstoken&&e.headers.accesstoken&&q.dispatch("setUserToken",e.headers.accesstoken),e},function(e){if(e.response){switch(e.response.status){case 403:n=(new Date).getTime(),(t=S.a.session.get(k)||[]).push(n),S.a.session.set(k,t),1===S.a.session.get(k).length&&$.a.MessageBox.confirm("登录失效，请重新登录","提示",{type:"error",showCancelButton:!1,closeOnClickModal:!1}).then(function(){q.commit("CLEAR_USER_TOKEN"),T.replace({name:"login"})}).catch(function(e){})}return!1}var n,t;return J.a.reject(e.response.data)});var G=D.a;t("j1ja"),t("+rhx");i.a.config.productionTip=!1,i.a.prototype.$ajax=G,new i.a({el:"#app",router:T,store:q,template:"<App/>",components:{App:u}})},OMN4:function(e,n){e.exports=axios},SJI6:function(e,n){e.exports=Vuex},l6IN:function(e,n){e.exports=ELEMENT},lRwf:function(e,n){e.exports=Vue},pRNm:function(e,n){e.exports=VueRouter}},["NHnr"]);
//# sourceMappingURL=app.2559d6a5df7612344db3.js.map